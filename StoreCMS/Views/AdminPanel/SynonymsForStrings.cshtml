@model SynonymForString[]
@inject ISynonymsForStringsLocalization localization
@{
    Layout = "CommonPage";
    User user = Context.Items["User"] as User;
    Context.Items["PageName"] = localization.PageName;
    Context.Items["PageStyle"] = "/styles/admin_panel/synonyms_for_strings.css";
}
<script src="/scripts/admin_panel/send_data.js"></script>
                <script>
                    function error() {
                        alert('@Html.Raw(localization.RequestCannotBeCompleted)');
                    }
                    function successfullyEdited() {
                        alert('@Html.Raw(localization.SynonymForStringEdited)');
                        location.reload();
                    }
                    function successfullyDeleted() {
                        alert('@Html.Raw(localization.SynonymForStringDeleted)');
                        location.reload();
                    }
                    </script>
@if (SecurityFunctions.HasAccessTo(AdminPanelPages.AddSynonymForString, user, Context))
{
                    <form id="add-synonym-for-string-form" class="container">
                        <div class="string">
                            <label for="string">@Html.Raw(localization.String)</label>
                            <input type="text" id="string" name="SynonymForStringModel.String">
                        </div>
                        <div class="synonym">
                            <label for="synonym">@Html.Raw(localization.Synonym)</label>
                            <input type="text" id="synonym" name="SynonymForStringModel.Synonym">
                        </div>
                        <div class="action">
                            <input type="submit" id="add-synonym-for-string-button" value="@Html.Raw(localization.Add)">
                        </div>
                    </form>
                    <script>
                        function successfullyAdded() {
                            alert('@Html.Raw(localization.SynonymForStringAdded)');
                            location.reload();
                        }
                        let addSubmit = document.getElementById('add-synonym-for-string-button');
                        addSubmit.addEventListener('click', createSendDataEventHandler('POST', '?pageID=@((int)AdminPanelPages.AddSynonymForString)', 'add-synonym-for-string-form', successfullyAdded, error));
                    </script>
}
@foreach (var pair in Model)
{
                    <form id="synonym-for-string-@pair.ID" class="container">
                        <input type="hidden" name="itemID" value="@pair.ID">
                        <div class="string">
                            <label for="string-@pair.ID">@Html.Raw(localization.String)</label>
                            <input type="text" id="string-@pair.ID" name="SynonymForStringModel.String" value="@pair?.String">
                        </div>
                        <div class="synonym">
                            <label for="synonym-@pair.ID">@Html.Raw(localization.Synonym)</label>
                            <input type="text" id="synonym-@pair.ID" name="SynonymForStringModel.Synonym" value="@pair?.Synonym">
                        </div>
                        <div class="actions">
            @if (SecurityFunctions.HasAccessTo(AdminPanelPages.EditSynonymForString, user, Context))
            {
                            <input type="submit" id="edit-synonym-for-string-button-@pair.ID" value="@Html.Raw(localization.Edit)">
            }
            else
            {
                            <input type="submit" value="@Html.Raw(localization.Edit)" disabled>
            }
            @if (SecurityFunctions.HasAccessTo(AdminPanelPages.DeleteSynonymForString, user, Context))
            {
                <input type="submit" id="delete-synonym-for-string-button-@pair.ID" value="@Html.Raw(localization.Delete)">
            }
            else
            {
                            <input type="submit" value="@Html.Raw(localization.Delete)" disabled>
            }
                        </div>
                    </form>
                    <script>
                        let editButton_@(pair.ID) = document.getElementById('edit-synonym-for-string-button-@(pair.ID)');
                        editButton_@(pair.ID).addEventListener('click', createSendDataEventHandler('POST', '?pageID=@((int)AdminPanelPages.EditSynonymForString)', 'synonym-for-string-@(pair.ID)', successfullyEdited, error));
                        let deleteButton_@(pair.ID) = document.getElementById('delete-synonym-for-string-button-@(pair.ID)');
                        deleteButton_@(pair.ID).addEventListener('click', createSendDataEventHandler('DELETE', '?pageID=@((int)AdminPanelPages.DeleteSynonymForString)', 'synonym-for-string-@(pair.ID)', successfullyDeleted, error));
                    </script>
}